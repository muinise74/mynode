{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aischool\\\\mynode\\\\client\\\\src\\\\components\\\\LoginForm.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport cookie from 'react-cookies';\nimport Swal from 'sweetalert2';\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginForm extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.submitClick = e => {\n      this.email_val = $('#email_val').val();\n      this.pwd_val = $('#pwd_val').val();\n\n      if (this.email_val === '' || this.pwd_val === '') {\n        this.sweetalert('이메일과 비밀번호를 확인해주세요.', '', 'info', '닫기');\n      } else {\n        axios.post('/api/LoginForm?type=signin', {\n          is_Email: this.email_val,\n          is_Password: this.pwd_val\n        }).then(response => {\n          var userid = response.data.json[0].useremail;\n          var username = response.data.json[0].username;\n          var upw = response.data.json[0].userpassword;\n\n          if (userid != null && userid != '') {\n            this.sweetalert('로그인 되었습니다.', '', 'info', '닫기');\n            const expires = new Date();\n            expires.setMinutes(expires.getMinutes() + 60);\n            axios.post('/api/LoginForm?type=SessionState', {\n              is_Email: userid,\n              is_UserName: username\n            }).then(response => {\n              cookie.save('userid', response.data.token1, {\n                path: '/',\n                expires\n              });\n              cookie.save('username', response.data.token2, {\n                path: '/',\n                expires\n              });\n              cookie.save('userpassword', upw, {\n                path: '/',\n                expires\n              });\n            }).catch(error => {\n              this.sweetalert('작업중 오류가 발생하였습니다.', error, 'error', '닫기');\n            });\n            setTimeout(function () {\n              window.location.href = '/SoftwareList';\n            }.bind(this), 1000);\n          } else {\n            this.sweetalert('이메일과 비밀번호를 확인해주세요.', '', 'info', '닫기');\n          }\n        }).catch(error => {\n          this.sweetalert('이메일과 비밀번호를 확인해주세요.', '', 'info', '닫기');\n        });\n      }\n    };\n\n    this.sweetalert = (title, contents, icon, confirmButtonText) => {\n      Swal.fire({\n        title: title,\n        text: contents,\n        icon: icon,\n        confirmButtonText: confirmButtonText\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"m_login\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: require(\"../img/main/log_img.png\"),\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), \"LOGIN\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log_box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"in_ty1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: require(\"../img/main/m_log_i3.png\"),\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"email_val\",\n              placeholder: \"\\uC774\\uBA54\\uC77C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"in_ty1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ic_2\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: require(\"../img/main/m_log_i2.png\"),\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"pwd_val\",\n              placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"af\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: '/register',\n                children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"pwr_b\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#n\",\n                children: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uC124\\uC815\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"s_bt\",\n            type: \"\",\n            onClick: e => this.submitClick(e),\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"names":["React","Component","Link","axios","cookie","Swal","$","LoginForm","submitClick","e","email_val","val","pwd_val","sweetalert","post","is_Email","is_Password","then","response","userid","data","json","useremail","username","upw","userpassword","expires","Date","setMinutes","getMinutes","is_UserName","save","token1","path","token2","catch","error","setTimeout","window","location","href","bind","title","contents","icon","confirmButtonText","fire","text","render","require"],"sources":["C:/Users/aischool/mynode/client/src/components/LoginForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport cookie from 'react-cookies';\nimport Swal from 'sweetalert2';\nimport $ from 'jquery';\n\nclass LoginForm extends Component {\n    submitClick = (e) => {\n        this.email_val = $('#email_val').val();\n        this.pwd_val = $('#pwd_val').val();\n        if(this.email_val === '' || this.pwd_val === ''){\n            this.sweetalert('이메일과 비밀번호를 확인해주세요.', '', 'info', '닫기')\n        }else{\n            axios.post('/api/LoginForm?type=signin', {\n                is_Email: this.email_val,\n                is_Password: this.pwd_val\n            })\n            .then( response => {\n                var userid = response.data.json[0].useremail\n                var username = response.data.json[0].username\n                var upw = response.data.json[0].userpassword\n                \n                if(userid != null && userid != ''){\n                    this.sweetalert('로그인 되었습니다.', '', 'info', '닫기')\n                    const expires = new Date()\n                    expires.setMinutes(expires.getMinutes() + 60)\n                    \n                    axios.post('/api/LoginForm?type=SessionState', {\n                        is_Email: userid,\n                        is_UserName: username,\n                    })\n                    .then( response => {\n                        cookie.save('userid', response.data.token1\n                        , { path: '/', expires })\n                        cookie.save('username', response.data.token2\n                        , { path: '/', expires })\n                        cookie.save('userpassword', upw\n                        , { path: '/', expires })\n                    })  \n                    .catch( error => {\n                        this.sweetalert('작업중 오류가 발생하였습니다.', error, 'error', '닫기');\n                    });\n                    \n                    setTimeout(function() {\n                        window.location.href = '/SoftwareList';\n                    }.bind(this),1000);\n                }else{\n                    this.sweetalert('이메일과 비밀번호를 확인해주세요.', '', 'info', '닫기')\n                }\n            })\n            .catch( error => {this.sweetalert('이메일과 비밀번호를 확인해주세요.', '', 'info', '닫기')} );\n        }\n    }\n\n    sweetalert = (title, contents, icon, confirmButtonText) => {\n        Swal.fire({\n            title: title,\n            text: contents,\n            icon: icon,\n            confirmButtonText: confirmButtonText\n          })\n    }\n\n    render () {\n        return (\n            <section className=\"main\">\n                <div className=\"m_login\">\n                <h3><span><img src={require(\"../img/main/log_img.png\")} alt=\"\" />\n                </span>LOGIN</h3>\n                <div className=\"log_box\">\n                    <div className=\"in_ty1\">\n                        <span><img src={require(\"../img/main/m_log_i3.png\")} alt=\"\" /></span>\n                        <input type=\"text\" id=\"email_val\" placeholder=\"이메일\" />\n                    </div>\n                    <div  className=\"in_ty1\">\n                        <span className=\"ic_2\">\n                            <img src={require(\"../img/main/m_log_i2.png\")} alt=\"\" />\n                        </span>\n                        <input type=\"password\" id=\"pwd_val\" placeholder=\"비밀번호\" />\n                    </div>\n                    <ul className=\"af\">\n                        <li><Link to={'/register'}>회원가입</Link></li>\n                        <li className=\"pwr_b\"><a href=\"#n\">비밀번호 재설정</a></li>\n                    </ul>\n                    <div className=\"s_bt\" type=\"\" onClick={(e) => this.submitClick(e)}>로그인</div>\n                </div>\n                </div>\n            </section>\n        );\n    }\n}\n\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}